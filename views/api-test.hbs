<div class="grid">
    <!-- API Test Form -->
    <div class="card">
        <h2>ğŸ“¡ API Test ArayÃ¼zÃ¼</h2>
        <p style="color: #7f8c8d; margin-bottom: 20px;">
            REST API endpoint'lerini test etmek iÃ§in bu formu kullanÄ±n.
        </p>
        
        <form id="apiTestForm">
            <div class="form-group">
                <label for="method">ğŸŒ HTTP Metodu:</label>
                <select id="method" name="method" class="form-control" required>
                    <option value="GET">GET - Veri Okuma</option>
                    <option value="POST">POST - Veri OluÅŸturma</option>
                    <option value="PUT">PUT - Veri GÃ¼ncelleme</option>
                    <option value="PATCH">PATCH - KÄ±smi GÃ¼ncelleme</option>
                    <option value="DELETE">DELETE - Veri Silme</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="endpoint">ğŸ¯ Endpoint:</label>
                <input type="text" id="endpoint" name="endpoint" class="form-control" required
                       placeholder="Ã–rnek: users/123 veya products"
                       value="test/hello">
            </div>
            
            <div class="form-group" id="bodyGroup" style="display: none;">
                <label for="requestBody">ğŸ“‹ Request Body (JSON):</label>
                <textarea id="requestBody" name="requestBody" class="form-control" rows="6"
                          placeholder='{"key": "value", "number": 123}'></textarea>
            </div>
            
            <div style="margin-top: 30px;">
                <button type="submit" class="btn btn-success" style="width: 100%;">
                    ğŸš€ API Ä°steÄŸi GÃ¶nder
                </button>
            </div>
        </form>
    </div>

    <!-- Token Status -->
    <div class="card">
        <h2>ğŸ” Token Durumu</h2>
        <div id="statusDisplay">
            <div class="status warning">â³ Token durumu kontrol ediliyor...</div>
        </div>
        
        <div style="margin-top: 20px;">
            <a href="/web/auth" class="btn btn-primary" style="width: 100%; margin-bottom: 10px;">
                ğŸ”‘ Yeni Token Al
            </a>
            <button type="button" id="clearToken" class="btn btn-danger" style="width: 100%;">
                ğŸ—‘ï¸ Token Temizle
            </button>
        </div>
    </div>
</div>

<!-- Response Area -->
<div class="card">
    <h2>ğŸ“Š API YanÄ±tÄ±</h2>
    <div id="responseArea" class="response-area">
        API isteÄŸi yapÄ±ldÄ±ÄŸÄ±nda yanÄ±t burada gÃ¶rÃ¼necek...
    </div>
</div>

<!-- HTTP Methods Guide -->
<div class="card">
    <h2>ğŸ“š HTTP MetodlarÄ± KÄ±lavuzu</h2>
    
    <div class="grid">
        <div>
            <h3 style="color: #3498db;">ğŸ” GET</h3>
            <p style="color: #555;">Veri okuma iÅŸlemleri iÃ§in kullanÄ±lÄ±r.</p>
            <div class="code">
GET /api/data/users
GET /api/data/products/123</div>
        </div>
        
        <div>
            <h3 style="color: #27ae60;">â• POST</h3>
            <p style="color: #555;">Yeni veri oluÅŸturma iÅŸlemleri iÃ§in kullanÄ±lÄ±r.</p>
            <div class="code">
POST /api/data/users
Body: {"name": "John", "email": "john@example.com"}</div>
        </div>
        
        <div>
            <h3 style="color: #e67e22;">âœï¸ PUT</h3>
            <p style="color: #555;">Var olan veriyi tamamen gÃ¼ncelleme iÃ§in kullanÄ±lÄ±r.</p>
            <div class="code">
PUT /api/data/users/123
Body: {"name": "John Updated", "email": "john.new@example.com"}</div>
        </div>
        
        <div>
            <h3 style="color: #9b59b6;">ğŸ”§ PATCH</h3>
            <p style="color: #555;">Var olan veriyi kÄ±smen gÃ¼ncelleme iÃ§in kullanÄ±lÄ±r.</p>
            <div class="code">
PATCH /api/data/users/123
Body: {"email": "john.new@example.com"}</div>
        </div>
    </div>
</div>

<!-- C# Method Mapping -->
<div class="card">
    <h2>ğŸ”„ C# Metod EÅŸleÅŸtirmeleri</h2>
    
    <div class="grid" style="grid-template-columns: 1fr 1fr;">
        <div>
            <h3 style="color: #e74c3c; margin-bottom: 15px;">ğŸ”´ C# Orijinal Metodlar</h3>
            <div class="code">
// GET Ä°steÄŸi
string result = HttpGet(url, accessToken);

// POST Ä°steÄŸi  
string result = HttpPost(url, param, accessToken);

// PUT Ä°steÄŸi
string result = HttpPut(url, param, accessToken);

// PATCH Ä°steÄŸi
string result = HttpPatch(url, param, accessToken);</div>
        </div>
        
        <div>
            <h3 style="color: #27ae60; margin-bottom: 15px;">ğŸŸ¢ NestJS API Endpoints</h3>
            <div class="code">
// GET Ä°steÄŸi
GET /api/data/{endpoint}

// POST Ä°steÄŸi
POST /api/data/{endpoint}

// PUT Ä°steÄŸi  
PUT /api/data/{endpoint}

// PATCH Ä°steÄŸi
PATCH /api/data/{endpoint}</div>
        </div>
    </div>
</div>

<!-- Example Requests -->
<div class="card">
    <h2>ğŸ’¡ Ã–rnek Ä°stekler</h2>
    
    <div style="margin-bottom: 20px;">
        <h3 style="color: #3498db;">1ï¸âƒ£ KullanÄ±cÄ± Listesi</h3>
        <button onclick="fillExample('GET', 'users', '')" class="btn btn-primary">Formu Doldur</button>
        <div class="code">GET /api/data/users</div>
    </div>
    
    <div style="margin-bottom: 20px;">
        <h3 style="color: #27ae60;">2ï¸âƒ£ Yeni KullanÄ±cÄ± OluÅŸtur</h3>
        <button onclick="fillExample('POST', 'users', '{\"name\": \"Ahmet YÄ±lmaz\", \"email\": \"ahmet@example.com\"}')" class="btn btn-success">Formu Doldur</button>
        <div class="code">POST /api/data/users
Body: {"name": "Ahmet YÄ±lmaz", "email": "ahmet@example.com"}</div>
    </div>
    
    <div style="margin-bottom: 20px;">
        <h3 style="color: #e67e22;">3ï¸âƒ£ KullanÄ±cÄ± GÃ¼ncelle</h3>
        <button onclick="fillExample('PUT', 'users/123', '{\"name\": \"Ahmet YÄ±lmaz GÃ¼ncel\", \"email\": \"ahmet.new@example.com\"}')" class="btn btn-warning">Formu Doldur</button>
        <div class="code">PUT /api/data/users/123
Body: {"name": "Ahmet YÄ±lmaz GÃ¼ncel", "email": "ahmet.new@example.com"}</div>
    </div>
    
    <div>
        <h3 style="color: #e74c3c;">4ï¸âƒ£ KullanÄ±cÄ± Sil</h3>
        <button onclick="fillExample('DELETE', 'users/123', '')" class="btn btn-danger">Formu Doldur</button>
        <div class="code">DELETE /api/data/users/123</div>
    </div>
</div>

<script>
function fillExample(method, endpoint, body) {
    document.getElementById('method').value = method;
    document.getElementById('endpoint').value = endpoint;
    
    const bodyGroup = document.getElementById('bodyGroup');
    const requestBody = document.getElementById('requestBody');
    
    if (['POST', 'PUT', 'PATCH'].includes(method)) {
        bodyGroup.style.display = 'block';
        requestBody.value = body;
    } else {
        bodyGroup.style.display = 'none';
        requestBody.value = '';
    }
    
    // Trigger change event
    document.getElementById('method').dispatchEvent(new Event('change'));
}
</script>